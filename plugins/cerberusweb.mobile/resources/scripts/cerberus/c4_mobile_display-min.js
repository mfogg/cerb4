var currentContent="convo_tab";function none(){}$(document).ready(function(){var a=$("#tb_workspaces select").val();workspaceChanged(a);console.log($("#top_nav .top_tabs_display li a"));$("#top_nav .top_tabs_display li a").click(function(b){tabClick(b.target)});$("#toolbar #tb_reply #tb_btn_back_display").click(function(b){tabChangeSubscreen("Conv","convo_tab",true)});$("#toolbar #tb_display #tb_btn_back_display2").click(function(b){showHome(b)});$("#toolbar #tb_display_right").click(function(){tabChangeSubscreen("Conv","reply_pane",true)});initTabState();initPropertiesTab();initReplyPane()});function initTabState(){var a=[];a.Conv={key:"Conv",current_sub:"convo_tab",subscreens:{convo_tab:{tb:"tb_display,tb_display_right"},reply_pane:{tb:"tb_reply"}},callback:function(b){$("#tb_display_right").toggle($("#reply_pane input[name=message_id]").val()!=""&&b=="convo_tab")}};a.Props={key:"Props",current_sub:"properties_container",subscreens:{properties_container:{tb:null}},callback:function(b){initPropertiesTabForTicket()}};cerb4.displayTab="Conv";cerb4.tabMap=a}function tabClick(a){tabClick(a,null)}function tabClick(e,a){console.log(e+"-"+a);var c=cerb4.tabMap;var b=$(e).parent();var d=$(e).text();$("#top_nav .top_tabs_display li.top_tabs_selected").removeClass("top_tabs_selected");b.addClass("top_tabs_selected");tabChangeSubscreen(d,null);cerb4.displayTab=d}function tabChangeSubscreen(b,a){tabChangeSubscreen(b,a,false)}function tabChangeSubscreen(g,l,e){var i=cerb4.tabMap;var h=cerb4.displayTab;if(l==null){l=i[g].current_sub}var k=[];var f=i[g].subscreens[l].tb;if(f!=null){k=f.split(",")}var b=i[h].current_sub;var c=[];var d=i[h].subscreens[b].tb;if(d!=null){c=d.split(",");for(var j in c){$("#"+c[j]).hide()}}for(var j in k){$("#"+k[j]).show()}console.log(i[g].callback);if(i[g].callback!=null){i[g].callback(l)}if(e){$("#"+b).fadeOut("slow",function(){scrollTo(0,0);$("#"+l).fadeIn("slow")})}else{$("#"+b).hide();$("#"+l).show()}i[g].current_sub=l}function doConvoBlockToggle(a){if(!a.hasClass("convo_block_container")){a=a.parents("div.convo_block_container")}var d=$("div.convo_block_pane",a);var c=$("div.convo_block_content",d);$("ul.convo_block_headers li.extra_header",a).slideToggle();if(c.html().trim().length>0){d.slideToggle();a.toggleClass("convo_block_expanded");a.removeClass("convo_block_expanded_init")}else{var b=$("div.block_info span.propId",a).text();var f=a.hasClass("message_container");var e=null;if(f){e={c:"mobile",a:"display",a2:"retrieveMessage",msgid:b}}else{return}$.get(DevblocksAppPath+"ajax.php",e,function(g){if(f){cerb4.ticket.messages[b].content=g}else{cerb4.ticket.comments[b].content=g}c.html(g).parent().slideToggle();a.toggleClass("convo_block_expanded");a.removeClass("convo_block_expanded_init")},"text")}}function replyButton(o){o.stopPropagation();o.preventDefault();var m=cerb4;var q=m.ticket;var t=m.workers;var b=$(o.target);if(b.parent().is("button")){b=b.parent()}var e=b.parents(".message_container");var g=e.find("div.block_info .propId").text();var n=$("div.convo_block_pane div.convo_block_content",e).text();var f=$("div#reply_pane");var k=b.is(".btnForward");var c="";var r="";if(k){c="Forward";r="Fwd: ";f.find("table.forward_only").show();f.find("table.reply_only").hide()}else{c="Reply";f.find("table.forward_only").hide();f.find("table.reply_only").show();var j=q.requesters;var l="";var h=true;for(var s in j){if(!h){l+=", "}else{h=false}l+=j[s].email}f.find("#requesters").text(l);n="> "+n.replace(/[\n]/gi,"\n> ")+"\n\n"}subject=r+q.subject;var i=f.find("input[name=status]");var d=getTicketStatusValue();i.filter("[value="+d+"]").attr("checked","checked");if(q.due_date>0){f.find("input[name=ticket_reopen]").val(c4Date(q.due_date))}propertiesToggleResumeDiv("reply");var p=f.find("select[name=next_worker]");p.val(q.next_worker_id);if(q.unlock_date!=0){f.find("input[name=unlock_date]").val(c4Date(q.unlock_date))}propertiesNextWorkerChanged("properties");f.find("textarea[name=content]").val(n);f.find("h1#reply_pane_title").text(c);f.find("input[name=subject]").val(subject);f.find("input[name=cc]").text("");f.find("input[name=bcc]").text("");f.find("input[name=message_id]").val(g);tabChangeSubscreen("Conv","reply_pane",true)}function createWorkerOptions(g){var f=cerb4;var c=f.workers;var h='<option value="0">Anybody</option>';var e="";var d="";for(var b in c){if(f.ticket!=null){d=(c[b].id==f.ticket.next_worker_id)?" selected":"";e=f.ticket.next_worker_id}h+='<option value="'+b+'"'+d+">"+c[b].first_name+" "+c[b].last_name+"</option>"}g.html(h).val(e)}function createBucketOptions(i){var g=cerb4;var f=g.categories;var d=g.groups;var h='<option value="">-- move to --</option>';h+='<optgroup label="Inboxes">';for(var e in d){h+='<option value="t'+e+'">'+d[e].name+"</option>"}h+="</optgroup>";for(var e in f){h+='<optgroup label="-- '+d[e].name+' --">';for(var c in f[e]){h+='<option value="c'+c+'">'+f[e][c].name+"</option>"}h+="</optgroup>"}i.html(h)}function replyAnyPressed(a){$("#reply_pane select[name=next_worker]").val("0");nextWorkerChanged()}function replyMePressed(a){$("#reply_pane select[name=next_worker]").val(activeWorkerId);nextWorkerChanged()}function nextWorkerChanged(){var a=(parseInt($("#reply_pane select[name=next_worker]").val())==0);if(a){$("#reply_pane table.reply_surrender").fadeOut()}else{$("#reply_pane table.reply_surrender").fadeIn()}}function bindMessageHandlers(){var a=$("#conversation div.convo_block_container:first-child");a.click(function(b){b.preventDefault();doConvoBlockToggle($(this))});a.find("ul.message_buttons li button").click(function(b){replyButton(b)})}function sendReply(){var b=$("#reply_pane");var e=$("#reply_pane_title").text()=="Forward";var g="";if(e){g=b.find("input[name=to]").val();if(g.trim().length==0){alert("You must enter a TO address to forward to");return}}var d=b.find("input[name=subject]").val();var c=b.find("select[name=next_worker]").val();var a=b.find("input[name=status]:checked").val();var f={c:"mobile",a:"display",a2:"sendReply",message_id:b.find("input[name=message_id]").val(),ticket_id:b.find("input[name=ticket_id]").val(),to:g,cc:b.find("input[name=cc]").val(),bcc:b.find("input[name=bcc]").val(),subject:d,content:b.find("textarea[name=content]").val(),next_worker_id:c,closed:a,bucket_id:"",ticket_reopen:b.find("input[name=ticket_reopen]").val(),unlock_date:b.find("input[name=unlock_date]").val(),};$.post(DevblocksAppPath+"ajax.php",f,function(h){$("#display #conversation").prepend(h).find("div.convo_block_container:first-child").fadeIn("slow",function(){doConvoBlockToggle($(this));bindMessageHandlers();var j=cerb4.ticket;if(d!=j.subject){$("#display_top > h1").text(d);j.subject=d}j.nextWorkerId=c;j.is_closed=(a==1);j.is_waiting=(a==2);j.is_deleted=(a==3);var i=$(this).find("div.block_info");j.unlock_date=i.find(".propUnlock").text();j.reopen_date=i.find(".propReopen").text();if(j.unlock_date==""){j.unlock_date=0}if(j.reopen_date==""){j.reopen_date=0}updateTicketActionStates()})},"html");b.find("input[name=message_id]").val("");tabChangeSubscreen("Conv","convo_tab",true)}function performTicketAction(a){var b=cerb4.ticket;var d=$(a.target).parent().attr("id");var c={c:"mobile",a:"display",a2:"updateProperties",id:b.id};switch(d){case"tb_btn_close":b.is_closed=(b.is_closed)?0:1;c.closed=b.is_closed;break;case"tb_btn_spam":b.spam_training="Y";c.spam="1";break;case"tb_btn_delete":b.is_deleted=(b.is_deleted)?0:1;c.deleted=b.is_deleted;break;case"tb_btn_take":b.next_worker_id=(b.next_worker_id==activeWorkerId)?0:activeWorkerId;c.next_worker_id=b.next_worker_id;break}$.post(DevblocksAppPath+"ajax.php",c,function(e){},"html");updateTicketActionStates()}function updateTicketActionStates(){$("#tb_display a").each(function(){var c=$(this);var a=c.children("img");var g=c.attr("id");var f=DevblocksAppPath+"resource/cerberusweb.mobile/images/24x24/";var e=cerb4.ticket;var b;switch(g){case"tb_btn_close":c.unbind("click");if(e.is_deleted){c.removeAttr("href")}else{c.attr("href","javascript:void(0);");c.click(function(h){performTicketAction(h)})}c.toggleClass("tb_link_grayed",e.is_deleted==1);var b=e.is_closed?"folder_out.png":"folder_ok.png";a.attr("src",f+b);var d=e.is_closed?"Closed":"Open";$("#properties #dispropStatus").text(d);break;case"tb_btn_spam":c.unbind("click");if(e.is_deleted||e.spam_training!=""){c.addClass("tb_link_grayed");c.removeAttr("href")}else{c.removeClass("tb_link_grayed");c.attr("href","javascript:void(0);");c.click(function(h){performTicketAction(h)})}break;case"tb_btn_delete":c.unbind("click");c.click(function(h){performTicketAction(h)});c.toggleClass("tb_link_grayed",e.is_deleted==1);break;case"tb_btn_take":c.unbind("click");if(e.next_worker_id!=0&&e.next_worker_id!=activeWorkerId){c.removeAttr("href");c.addClass("tb_link_grayed")}else{c.attr("href","javascript:void(0);");c.click(function(h){performTicketAction(h)});c.removeClass("tb_link_grayed")}b=(e.next_worker_id==activeWorkerId)?"flag_yellow.png":"hand_paper.png";a.attr("src",f+b);break}});setTicketPropertiesBox()}function propertiesAnyPressed(b){var a=getPropertiesContainer(b);workerSelect=$(a+" select[name=next_worker]");workerSelect.val("0");propertiesNextWorkerChanged()}function propertiesMePressed(b){var a=getPropertiesContainer(b);workerSelect=$(a+" select[name=next_worker]");workerSelect.val(activeWorkerId);propertiesNextWorkerChanged()}function propertiesNextWorkerChanged(b){var a=getPropertiesContainer(b);var c=(parseInt($(a+" select[name=next_worker]").val())==0);if(c){$(a+" div.properties_surrender").fadeOut()}else{$(a+" div.properties_surrender").fadeIn()}}function propertiesToggleResumeDiv(e){var f=getPropertiesContainer(e);var b=$(f);var a=b.find(".properties_resume");var d=b.find("input[name=status]:checked").val();if(b.css("display")=="block"){var c=(d==1||d==2)?"show":"hide";a.animate({opacity:c})}else{a.toggle(d==1||d==2)}}function getPropertiesContainer(b){var a;if(b=="reply"){a="#reply_pane"}else{a="#properties_container"}return a}function propertiesSave(){var ticket=cerb4.ticket;var ticketId=ticket.id;var propertiesContainer=$("#properties_container");var statusVal=propertiesContainer.find("input[name=status]:checked").val();var nextWorkerId=propertiesContainer.find("select[name=next_worker]").val();var subject=propertiesContainer.find("input[name=subject]").val();var ticketReopen=propertiesContainer.find("input[name=ticket_reopen]").val();var unlockDate=propertiesContainer.find("input[name=unlock_date]").val();var spamTraining=propertiesContainer.find("input[name=spam_training]:checked").val();var bucketId=propertiesContainer.find("select[name=bucket_id]").val();var customFieldIds=propertiesContainer.find("input[name=custom_field_id_str]").val();var ajaxParams={c:"mobile",a:"display",a2:"saveProperties",ticket_id:ticketId,next_worker_id:nextWorkerId,ticket_reopen:ticketReopen,unlock_date:unlockDate,subject:subject,closed:statusVal,spam_training:spamTraining,bucket_id:bucketId,custom_field_id_str:customFieldIds};$.post(DevblocksAppPath+"ajax.php",ajaxParams,function(json){var obj=eval(json);ticket.due_date=obj.time_reopen;propertiesContainer.find("input[name=ticket_reopen]").val(c4Date(obj.time_reopen));ticket.unlock_date=obj.time_unlock;propertiesContainer.find("input[name=unlock_date]").val(c4Date(obj.time_unlock))},"json");ticket.next_worker_id=nextWorkerId;ticket.subject=subject;ticket.is_closed=(statusVal==1);ticket.is_waiting=(statusVal==2);ticket.is_deleted=(statusVal==3);ticket.spam_training=spamTraining;var teamOrCat=bucketId.substring(0,1);var teamOrCatId=bucketId.substring(1);if(teamOrCat=="c"){ticket.category_id=teamOrCatId}else{ticket.team_id=teamOrCatId}updateTicketActionStates()}function workspaceChanged(b){var a=DevblocksAppPath+"ajax.php";$.get(a,{c:"mobile",a:"display",a2:"showWorklists",workspace:b},function(c){var d=$("div#worklists");d.html(c).show();d.find("div.worklist_header").click(function(e){e.preventDefault();e.stopPropagation();clickView($(this))});d.find("div.view_paging div.view_paging_links").children().each(function(){$(this).click(function(e){e.preventDefault();e.stopPropagation();var g=$(this).parent().parent().parent();var f=$(this).data("page");loadView(g,f,true)})})})}function clickView(e){var d=e.text();var f=e.parent();var a=$("div.dval_viewid",f).text();var c=$("div.worklist_content",f);if(c.css("display")!="none"){c.slideToggle();var b=$("div.view_paging",f);b.hide()}else{loadView(f,0,false)}}function loadView(h,f,g){var e=h.children("div.worklist_header");var d=e.text();var a=$("div.dval_viewid",h).text();var c=$("div.worklist_content",h);var b=DevblocksAppPath+"ajax.php";$.get(b,{c:"mobile",a:"display",a2:"showView",view_id:a,page:f},function(i){c.fadeOut("normal",function(){if(g){c.html(i).fadeIn()}else{c.html(i).slideToggle()}h.find("ul.view_list li.view_list_item").click(function(l){var k=$(l.target);while(k[0].tagName!="LI"){k=k.parent()}var m=parseInt(k.find("div.dval_ticket_id").text());loadDisplay(m)});var j=$("div.view_paging",h);updatePagingLinks(j);if(!g){j.show()}})})}function updatePagingLinks(viewPagingDiv){var viewPagingLinks=viewPagingDiv.find("div.view_paging_links");var viewPagingObjStr=viewPagingLinks.parent().parent().find(".worklist_content_container div.dval_view_paging").text();var viewPagingObj=eval("("+viewPagingObjStr+")");var linkFirst=viewPagingLinks.find(".view_page_link_first").parent();var linkPrev=viewPagingLinks.find(".view_page_link_prev").parent();var linkNext=viewPagingLinks.find(".view_page_link_next").parent();var linkLast=viewPagingLinks.find(".view_page_link_last").parent();var previousVisibility=(parseInt(viewPagingObj.currentPage)>0)?"visible":"hidden";var nextVisibility=(parseInt(viewPagingObj.toRow)<parseInt(viewPagingObj.total))?"visible":"hidden";linkPrev.css("visibility",previousVisibility);linkFirst.css("visibility",previousVisibility);linkNext.css("visibility",nextVisibility);linkLast.css("visibility",nextVisibility);linkFirst.data("page",0);linkPrev.data("page",viewPagingObj.prevPage);linkNext.data("page",viewPagingObj.nextPage);linkLast.data("page",viewPagingObj.lastPage);viewPagingDiv.children("div.view_paging_text").text(viewPagingObj.pageDesc)}function loadDisplay(ticketId){var ajaxPath=DevblocksAppPath+"ajax.php";$.get(ajaxPath,{c:"mobile",a:"display",a2:"showDisplay",ticket_id:ticketId},function(json){var dispObj=eval(json);$("#top_nav .top_tabs_home").hide();$("#top_nav .top_tabs_display").show();$("#tb_workspaces").hide();$("#tb_display").show();var ticket=dispObj.ticket;cerb4.ticket=ticket;updateTicketActionStates();$("#display_top > h1").text(ticket.subject);renderConversation(ticket);window.scrollTo(0,1);$("#worklists").hide();$("#display").show()},"json")}function initReplyPane(){var a=$("#reply_pane");a.find("button[name=me_button]").click(function(c){replyMePressed(c)});a.find("button[name=anybody_button]").click(function(c){replyAnyPressed(c)});a.find("input[name=status]").change(function(c){propertiesToggleResumeDiv("reply")});var b=a.find("select[name=next_worker]");createWorkerOptions(b);b.change(propertiesNextWorkerChanged("reply"));a.find("#send_button").click(function(c){sendReply()});$("#reply_pane #discard_reply").click(function(c){a.find("input[name=message_id]").val("");tabChangeSubscreen("Conv","convo_tab",true)});propertiesToggleResumeDiv("reply")}function initPropertiesTab(){var a=$("#properties_container");a.find("button[name=me_button]").click(function(c){propertiesMePressed("properties")});a.find("button[name=anybody_button]").click(function(c){propertiesAnyPressed("properties")});a.find("input[name=status]").change(function(c){propertiesToggleResumeDiv("properties")});var b=a.find("select[name=next_worker]");createWorkerOptions(b);b.change(function(c){propertiesNextWorkerChanged("properties")});createBucketOptions(a.find("select[name=bucket_id]"));a.find("#save_properties_button").click(function(c){propertiesSave()});propertiesToggleResumeDiv("properties")}function initPropertiesTabForTicket(){var c=$("#properties_container");var b=cerb4;var f=b.ticket;c.find("input[name=subject]").val(f.subject);var h=c.find("input[name=status]");var d=getTicketStatusValue();h.filter("[value="+d+"]").attr("checked","checked");if(f.due_date>0){c.find("input[name=ticket_reopen]").val(c4Date(f.due_date))}propertiesToggleResumeDiv("properties");var e=c.find("select[name=next_worker]");e.val(f.next_worker_id);if(f.unlock_date!=0){c.find("input[name=unlock_date]").val(c4Date(f.unlock_date))}propertiesNextWorkerChanged("properties");var a=c.find("select[name=bucket_id]");var g=null;if(f.category_id!=0){g="c"+f.category_id}else{if(f.team_id!=0){g="t"+f.team_id}}if(g!=null){a.val(g)}c.find("div.spam_training").toggle(f.spam_training=="")}function showHome(){$("#reply_pane input[name=message_id]").val("");$("#top_nav .top_tabs_display").hide();$("#top_nav .top_tabs_home").show();$("#tb_display").hide();$("#tb_display_right").hide();$("#tb_workspaces").show();var b=$("#worklists");var a=b.find("li.ticket_view_selection");console.log(a.offset());window.scrollTo(0,a.offset());a.removeClass("ticket_view_selection");$("#display").hide();$("#worklists").show()}function setTicketPropertiesBox(){console.log("setting ticket properties box");var b=cerb4;var c=b.ticket;var a=getTicketStatus(c);$("#dispropStatus").text(a);var f=b.groups[c.team_id].name;$("#dispropGroup").text(f);var e;if(c.category_id==0){e="Inbox"}else{e=b.categories[c.team_id][c.category_id].name}$("#dispropCategory").text(e);$("#dispropMask").text(c.mask);$("#dispropId").text(c.id);console.log("nextworker:"+c.next_worker_id);var d;if(c.next_worker_id==0){d="None"}else{d=b.workers[c.next_worker_id].first_name+" "+b.workers[c.next_worker_id].last_name}$("#dispropWorker").text(d)}function getTicketStatus(b){var a;if(b.is_deleted){a="deleted"}else{if(b.is_closed){a="closed"}else{if(b.is_waiting){a="waiting for reply"}else{a="open"}}}return a}function getTicketStatusValue(){var b=cerb4.ticket;var a;if(b.is_deleted){a=3}else{if(b.is_closed){a=1}else{if(b.is_waiting){a=2}else{a=0}}}return a}function renderConversation(g){var d=g.conversation;var c=[];var b=getLastConvoBlock(d);for(var h in d){var k=b[0]+b[1];var i=d[h][0]+d[h][1];var f=(i==k);if(d[h][0]=="m"){var j=g.messages[d[h][1]];j.headers=g.headers[d[h][1]];c[c.length]=renderMessage(j,f)}else{var e=g.comments[d[h][1]];c[c.length]=renderComment(e,f)}}$("#conversation").html(c.join(""));$("#conversation div.convo_block_container").click(function(a){a.preventDefault();doConvoBlockToggle($(this))});$("#conversation").find("ul.message_buttons li button").click(function(a){replyButton(a)})}function getLastConvoBlock(b){var d=0;var f=null;for(var c in b){var e=c.split("_");if(e[0]>d){d=parseInt(e[0]);f=b[c]}}return f}function renderMessage(d,b){var a=DevblocksAppPath+"resource/cerberusweb.mobile/images/";var e=(d.worker_id>0)?"from_outgoing":"from_incoming";var c=[];c[c.length]='<div class="convo_block_container message_container"';if(b){c[c.length]=" convo_block_expanded convo_block_expanded_init"}c[c.length]='"><ul class="convo_block_headers">';var f=d.headers;if(f.from!=null){c[c.length]=getConvoBlockHeaderHtml(e,"From",f.from)}if(f.to!=null){c[c.length]=getConvoBlockHeaderHtml("extra_header","To",f.to)}if(f.cc!=null){c[c.length]=getConvoBlockHeaderHtml("extra_header","Cc",f.cc)}if(f.bcc!=null){c[c.length]=getConvoBlockHeaderHtml("extra_header","Bcc",f.bcc)}if(f.subject!=null){c[c.length]=getConvoBlockHeaderHtml("extra_header msg_subject","Subject",f.subject)}if(f.date!=null){c[c.length]=getConvoBlockHeaderHtml("","Date",f.date)}c[c.length]='</ul><div class="convo_block_pane"><div class="convo_block_content">';if(d.content!=null){c[c.length]=escape_entities(d.content)}c[c.length]='</div><ul class="message_buttons"><li><button type="button" class="btnReply"><img src="';c[c.length]=a+"24x24/export2.png";c[c.length]='" align="top"><br/>Reply</button></li>';c[c.length]='<li><button type="button" class="btnForward"><img src="';c[c.length]=a+"24x24/document_out.png";c[c.length]='" align="top"><br/>Forward</button></li>';c[c.length]='<li><button type="button" class="btnNote"><img src="';c[c.length]=a+"24x24/document_plain.png";c[c.length]='" align="top"><br/>Note</button></li></ul></div><div class="block_info"><span class="propId prop">'+d.id+"</span></div></div>";return c.join("")}function renderComment(c,a){var b=[];b[b.length]='<div class="convo_block_container"><ul class="convo_block_headers"><li class="from_comment"><span>[comment] ';if(c.address.first_name==""&&c.address.last_name==""){b[b.length]=c.address.email}else{b[b.length]=c.address.first_name+" "+c.address.last_name}b[b.length]="</span></li>";if(c.created>0){b[b.length]="<li><span>Date:</span> ";b[b.length]=c4Date(c.created);b[b.length]="</li>"}b[b.length]='</ul><div class="convo_block_pane"><div class="convo_block_content">';b[b.length]=escape_entities(c.comment);b[b.length]='</div></div><div class="block_info"><span class="propId prop">';b[b.length]=c.id;b[b.length]="</span></div></div>";return b.join("")}function getConvoBlockHeaderHtml(b,c,a){if(c.toLowerCase()=="from"){return'<li class="'+b+'"><span class="header_name">'+c+": "+escape_entities(a)+"</span></li>"}else{return'<li class="'+b+'"><span class="header_name">'+c+":</span> "+escape_entities(a)+"</li>"}}function escape_entities(a){return a.replace(/&/gmi,"&amp;").replace(/"/gmi,"&quot;").replace(/>/gmi,"&gt;").replace(/</gmi,"&lt;")}function c4Date(b){if(b>0){var a=new Date();a.setTime(b*1000);return a.toDateString()+" "+a.toLocaleTimeString()}else{return""}};